<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Create map tiles — tile • rOpenSci: tiler</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>


<!-- Bootstrap -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>

<!-- ropensci -->
<link href="../ropensci.css" rel="stylesheet">

<meta property="og:title" content="Create map tiles — tile" />
<meta property="og:description" content="Create geographic and non-geographic map tiles from a file." />
<meta name="twitter:card" content="summary" />






<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-462421-8"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-462421-8');
</script>

  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a href="https://ropensci.org"><img src="../hexlogo.png" id="hexlogo" alt="rOpenSci" /></a>
        <a class="navbar-brand" href="../index.html"><i>tiler <small>v0.2.1</small></i></a>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/tiler.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Online
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="https://github.com/leonawicz">
        <span class="fa fa-github fa-lg"></span>
         
        GitHub
      </a>
    </li>
    <li>
      <a href="https://twitter.com/leonawicz">
        <span class="fa fa-twitter fa-lg"></span>
         
        Twitter
      </a>
    </li>
    <li>
      <a href="https://www.linkedin.com/in/leonawicz">
        <span class="fa fa-linkedin fa-lg"></span>
         
        LinkedIn
      </a>
    </li>
    <li>
      <a href="https://www.youtube.com/user/StatisticsWithR">
        <span class="fa fa-youtube fa-lg"></span>
         
        YouTube
      </a>
    </li>
    <li>
      <a href="https://plus.google.com/+StatisticsWithR/posts">
        <span class="fa fa-google-plus fa-lg"></span>
         
        Google+
      </a>
    </li>
    <li>
      <a href="https://leonawicz.github.io/blog/">
        <span class="fa fa-pencil-square-o fa-lg"></span>
         
        Blog
      </a>
    </li>
  </ul>
</li>
<li>
  <a href="https://github.com/leonawicz/tiler">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create map tiles</h1>
    <small class="dont-index">Source: <a href='https://github.com/ropensci/tiler/blob/master/R/tile.R'><code>R/tile.R</code></a></small>
    <div class="hidden name"><code>tile.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Create geographic and non-geographic map tiles from a file.</p>
    </div>

    <pre class="usage"><span class='fu'>tile</span>(<span class='no'>file</span>, <span class='no'>tiles</span>, <span class='no'>zoom</span>, <span class='kw'>crs</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>format</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"xyz"</span>, <span class='st'>"tms"</span>),
  <span class='kw'>resume</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>viewer</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>georef</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='no'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>file</th>
      <td><p>character, input file.</p></td>
    </tr>
    <tr>
      <th>tiles</th>
      <td><p>character, output directory for generated tiles.</p></td>
    </tr>
    <tr>
      <th>zoom</th>
      <td><p>character, zoom levels. Example format: <code>"3-7"</code>. See details.</p></td>
    </tr>
    <tr>
      <th>crs</th>
      <td><p>character, Proj4 string. Use this to force set the CRS of a loaded raster object from <code>file</code> in cases where the CRS is missing but known, to avoid defaulting to non-geographic tiling.</p></td>
    </tr>
    <tr>
      <th>format</th>
      <td><p>character, XYZ or TMS tile format. See details.</p></td>
    </tr>
    <tr>
      <th>resume</th>
      <td><p>logical, only generate missing tiles.</p></td>
    </tr>
    <tr>
      <th>viewer</th>
      <td><p>logical, also create <code>preview.html</code> adjacent to <code>tiles</code> directory for previewing tiles in the browser using Leaflet.</p></td>
    </tr>
    <tr>
      <th>georef</th>
      <td><p>logical, for non-geographic tiles only. If <code>viewer = TRUE</code>, then the Leaflet widget in <code>preview.html</code> will add map markers with coordinate labels on mouse click to assist with georeferencing of non-geographic tiles.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>additional arguments for projected maps: reprojection method or any arguments to <code><a href='https://rdrr.io/pkg/raster/man/RGB.html'>raster::RGB</a></code>, e.g. <code>col</code> and <code>colNA</code>. See details. Other additional arguments <code>lng</code> and <code>lat</code> can also be passed to the tile previewer. See <code><a href='tile_viewer.html'>tile_viewer</a></code> for details.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>nothing is returned but tiles are written to disk.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function supports both geographic and non-geographic tile generation.
When <code>file</code> is a simple image file such as <code>png</code>, <code>tile</code> generates non-geographic, simple CRS tiles.
Files that can be loaded by the <code>raster</code> package yield geographic tiles, as long as <code>file</code> has projection information.
If the raster object's proj4 string is <code>NA</code>, it falls back on non-geographic tile generation and a warning is thrown.</p>
<p>Choice of appropriate zoom levels for non-geographic image files may depend on the size of the image. A <code>zoom</code> value may be partially ignored for image files under certain conditions.
For instance using the example <code>map.png</code> below, when passing strictly <code>zoom = n</code> where <code>n</code> is less than 3, this still generates tiles for zoom <code>n</code> up through 3.</p>
<h3>Supported file types</h3>
<p>Supported simple CRS/non-geographic image file types include <code>png</code>, <code>jpg</code> and <code>bmp</code>.
For projected map data, supported file types include three types readable by the <code>raster</code> package: <code>grd</code>, <code>tif</code>, and <code>nc</code> (requires <code>ncdf4</code>).
Other currently unsupported file types passed to <code>file</code> throw an error.</p>
<h3>Raster file inputs</h3>
<p>If a map file loadable by <code>raster</code> is a single-layer raster object, tile coloring is applied.
To override default coloring of data and <code>noData</code> pixels, pass the additional arguments <code>col</code> and <code>colNA</code> to <code>...</code>.
Multi-layer raster objects are rejected with an error message. The only exception is a three- or four-band raster, which is assumed to represent red, green, blue and alpha channels, respectively.
In this case, processing will continue but coloring arguments are ignored as unnecessary.
<br /><br />
Prior to tiling, a geographically-projected raster layer is reprojected to EPSG:4326 only if it has some other projection. Otherwise no reprojection is needed.
The only reprojection argument available through <code>...</code> is <code>method</code>, which can be <code>"bilinear"</code> (default) or<code>"ngb"</code>.
If complete control over reprojection is required, this should be done prior to passing the rasterized file to the <code>tile</code> function. Then no reprojection is performed by <code>tile</code>.
When <code>file</code> consists of RGB or RGBA bands, <code>method</code> is ignored if provided and reprojection uses nearest neighbor.
<br /><br />
It is recommended to avoid using a projected 4-band RGBA raster file or <code>gdal2tiles</code>. However, the alpha channel appears to be ignored anyway. <code>gdal2tiles</code> gives an internal warning.
Instead, create your RGBA raster file in unprojected form and it should seamlessly pass through to <code>gdal2tiles</code> without any issues.
Three-band RGB raster files appear are unaffected by reprojection.  The alpha channel appears to be completely ignored in the tiling process anyway, so it is fine to just use RGB rasters.</p>
<h3>Tiles and Leaflet</h3>
<p><code>gdal2tiles</code> generates TMS tiles, but XYZ are available and the default. Tile format only applies to geographic maps. All simple image-based tiles are XYZ format. See details.
<br /><br />
This function is supported by three different versions of <code>gdal2tiles</code>. There is the standard version, which generates geospatial tiles in TMS format.
One alternative generates tiles in XYZ format. This is the default for <code>tile</code>. It may be more familiar to R users working with the <code>leaflet</code> package.
There is no real benefit of using one version over the other for tiling spatial maps.
If you set <code>format = "tms"</code> you may need to do similarly in your raw Leaflet code or your <code>leaflet</code> R code for tiles to arrange and display with the proper orientation.
<br /><br />
The third version of <code>gdal2tiles</code> handles basic image files like a matrix of rows and columns, using a simple Cartesian coordinate system based on pixel dimensions of the image file.
See the Leaflet JS library and <code>leaflet</code> package documentation for working with custom tiles in Leaflet.</p>

    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='view_tiles.html'>view_tiles</a></code>, <code><a href='tile_viewer.html'>tile_viewer</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>tmpfiles</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.files.html'>list.files</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span>(), <span class='kw'>full.names</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='co'># non-geographic/simple CRS</span>
<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(<span class='st'>"maps/map.png"</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"tiler"</span>)
<span class='no'>tiles</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span>(), <span class='st'>"tiles"</span>)
<span class='fu'>tile</span>(<span class='no'>x</span>, <span class='no'>tiles</span>, <span class='st'>"2-3"</span>)</div><div class='output co'>#&gt; Creating tiles. Please wait...
#&gt; Creating tile viewer...
#&gt; Complete.</div><div class='input'>
<span class='co'># projected map</span>
<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(<span class='st'>"maps/map_wgs84.tif"</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"tiler"</span>)
<span class='fu'>tile</span>(<span class='no'>x</span>, <span class='no'>tiles</span>, <span class='fl'>0</span>)</div><div class='output co'>#&gt; Coloring raster...
#&gt; Preparing for tiling...
#&gt; Creating tiles. Please wait...
#&gt; Creating tile viewer...
#&gt; Complete.</div><div class='input'><span class='co'># \dontshow{</span>
<span class='fu'><a href='https://rdrr.io/r/base/unlink.html'>unlink</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='no'>tiles</span>, <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span>(), <span class='st'>"preview.html"</span>)), <span class='kw'>recursive</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>force</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='no'>extrafiles</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/sets.html'>setdiff</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/list.files.html'>list.files</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span>(), <span class='kw'>full.names</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>), <span class='no'>tmpfiles</span>)
<span class='kw'>if</span>(<span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span>(<span class='no'>extrafiles</span>)) <span class='fu'><a href='https://rdrr.io/r/base/unlink.html'>unlink</a></span>(<span class='no'>extrafiles</span>, <span class='kw'>recursive</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>force</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='co'># }</span></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div style="margin-top:-9px">
  <p>tiler is a part of <img src='https://github.com/ropensci/logos/raw/master/icon_lettering_color.png' height=40 alt = 'rOpenSci'>. Learn more at <a href="https://ropensci.org">ropensci.org</a>.</p>
</div>

<div class="author">
  <p>
    Developed by <a href='https://leonawicz.github.io/'>Matthew Leonawicz</a>.
    Site built by <a href="https://pkgdown.r-lib.org">pkgdown</a> & <a href="https://docs.ropensci.org/rotemplate/">rotemplate</a>.
  </p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '449b10b6639e4611f7d5498f30bb2ab2',
    indexName: 'leonawicz_tiler',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


